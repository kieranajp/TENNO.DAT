/**
 * Mock API data for visual regression tests.
 * This ensures consistent screenshots across local and CI environments.
 */

import type {
  MasterySummary,
  MasteryItem,
  PlayerSettings,
  StarChartProgress,
  AuthUser,
  PrimeItem,
} from '../../src/lib/api'
import { MasteryState } from '@warframe-tracker/shared'

export const mockAuthUser: AuthUser = {
  id: 1,
  steamId: '76561198012345678',
  steamDisplayName: 'TestTenno',
  steamAvatarUrl: null,
  playerId: 'TestTenno',
  platform: 'pc',
  onboardingComplete: true,
}

export const mockMasterySummary: MasterySummary = {
  categories: [
    { category: 'Warframes', total: 89, mastered: 72 },
    { category: 'Primary', total: 178, mastered: 145 },
    { category: 'Secondary', total: 132, mastered: 98 },
    { category: 'Melee', total: 189, mastered: 156 },
    { category: 'Companions', total: 45, mastered: 38 },
    { category: 'Archwing', total: 12, mastered: 12 },
    { category: 'Arch-Gun', total: 18, mastered: 15 },
    { category: 'Arch-Melee', total: 8, mastered: 8 },
    { category: 'Necramechs', total: 3, mastered: 2 },
    { category: 'Amps', total: 27, mastered: 18 },
    { category: 'K-Drives', total: 4, mastered: 4 },
  ],
  totals: { total: 705, mastered: 568 },
  loadout: {
    warframe: {
      id: 1,
      name: 'Wisp Prime',
      imageName: 'wisp-prime.png',
      category: 'Warframes',
      maxRank: 30,
      rank: 30,
      masteryState: MasteryState.Mastered30,
    },
    primary: {
      id: 2,
      name: 'Fulmin Prime',
      imageName: 'fulmin-prime.png',
      category: 'Primary',
      maxRank: 30,
      rank: 30,
      masteryState: MasteryState.Mastered30,
    },
    secondary: {
      id: 3,
      name: 'Laetum',
      imageName: 'laetum.png',
      category: 'Secondary',
      maxRank: 40,
      rank: 40,
      masteryState: MasteryState.Mastered40,
    },
    melee: {
      id: 4,
      name: 'Praedos',
      imageName: 'praedos.png',
      category: 'Melee',
      maxRank: 40,
      rank: 35,
      masteryState: MasteryState.UNMASTERED,
    },
    focusSchool: 'Madurai',
  },
  lastSyncAt: '2025-01-15T10:30:00Z',
  displayName: 'TestTenno',
  masteryRank: {
    rank: 32,
    equipmentXP: 2847500,
    intrinsicsXP: 152000,
    totalXP: 2999500,
    currentThreshold: 2875000,
    nextThreshold: 3012500,
    progress: 90.5,
  },
}

export const mockMasteryItems: MasteryItem[] = [
  {
    id: 1,
    uniqueName: '/Lotus/Powersuits/Wisp/WispPrime',
    name: 'Wisp Prime',
    category: 'Warframes',
    isPrime: true,
    masteryReq: 0,
    maxRank: 30,
    imageName: 'wisp-prime.png',
    vaulted: false,
    xp: 6000,
    rank: 30,
    masteryState: MasteryState.Mastered30,
    wishlisted: false,
  },
  {
    id: 2,
    uniqueName: '/Lotus/Powersuits/Frost/Frost',
    name: 'Frost',
    category: 'Warframes',
    isPrime: false,
    masteryReq: 0,
    maxRank: 30,
    imageName: 'frost.png',
    vaulted: null,
    xp: 6000,
    rank: 30,
    masteryState: MasteryState.Mastered30,
    wishlisted: false,
  },
  {
    id: 3,
    uniqueName: '/Lotus/Powersuits/Excalibur/Excalibur',
    name: 'Excalibur',
    category: 'Warframes',
    isPrime: false,
    masteryReq: 0,
    maxRank: 30,
    imageName: 'excalibur.png',
    vaulted: null,
    xp: 4500,
    rank: 22,
    masteryState: MasteryState.UNMASTERED,
    wishlisted: true, // Pre-wishlisted for testing
  },
  {
    id: 4,
    uniqueName: '/Lotus/Powersuits/Volt/VoltPrime',
    name: 'Volt Prime',
    category: 'Warframes',
    isPrime: true,
    masteryReq: 0,
    maxRank: 30,
    imageName: 'volt-prime.png',
    vaulted: true,
    xp: null,
    rank: null,
    masteryState: MasteryState.UNMASTERED,
    wishlisted: true, // Pre-wishlisted for testing
  },
  {
    id: 5,
    uniqueName: '/Lotus/Weapons/Tenno/Rifle/Fulmin/FulminPrime',
    name: 'Fulmin Prime',
    category: 'Primary',
    isPrime: true,
    masteryReq: 14,
    maxRank: 30,
    imageName: 'fulmin-prime.png',
    vaulted: false,
    xp: 3000,
    rank: 30,
    masteryState: MasteryState.Mastered30,
    wishlisted: false,
  },
  {
    id: 6,
    uniqueName: '/Lotus/Weapons/Tenno/Pistol/Laetum',
    name: 'Laetum',
    category: 'Secondary',
    isPrime: false,
    masteryReq: 14,
    maxRank: 40,
    imageName: 'laetum.png',
    vaulted: null,
    xp: 8000,
    rank: 40,
    masteryState: MasteryState.MASTERED_40,
    wishlisted: false,
  },
  {
    id: 7,
    uniqueName: '/Lotus/Weapons/Tenno/Melee/Sword/Praedos',
    name: 'Praedos',
    category: 'Melee',
    isPrime: false,
    masteryReq: 14,
    maxRank: 40,
    imageName: 'praedos.png',
    vaulted: null,
    xp: 7000,
    rank: 35,
    masteryState: MasteryState.UNMASTERED,
    wishlisted: false,
  },
  {
    id: 8,
    uniqueName: '/Lotus/Weapons/Tenno/Melee/Sword/SkanaP',
    name: 'Skana Prime',
    category: 'Melee',
    isPrime: true,
    masteryReq: 0,
    maxRank: 30,
    imageName: 'skana-prime.png',
    vaulted: true,
    xp: null,
    rank: null,
    masteryState: MasteryState.UNMASTERED,
    wishlisted: false,
  },
]

// Wishlist state tracking for tests - items 3 and 4 are wishlisted by default
export const mockWishlistedIds: number[] = [3, 4]

export const mockSettings: PlayerSettings = {
  id: 1,
  playerId: 'TestTenno',
  platform: 'pc',
  displayName: 'TestTenno',
  lastSyncAt: '2025-01-15T10:30:00Z',
  railjackIntrinsics: 50,
  drifterIntrinsics: 30,
}

export const mockPrimes: PrimeItem[] = [
  {
    id: 1,
    name: 'Wisp Prime',
    category: 'Warframes',
    imageName: 'wisp-prime.png',
    vaulted: false,
    mastered: true,
    components: [
      { id: 101, name: 'Blueprint', itemCount: 1, ducats: 25, ownedCount: 1, drops: [{ location: 'Lith W1 Relic', chance: 0.25, rarity: 'Common' }] },
      { id: 102, name: 'Chassis', itemCount: 1, ducats: 15, ownedCount: 1, drops: [{ location: 'Meso W2 Relic', chance: 0.11, rarity: 'Uncommon' }] },
      { id: 103, name: 'Neuroptics', itemCount: 1, ducats: 45, ownedCount: 1, drops: [{ location: 'Neo W3 Relic', chance: 0.02, rarity: 'Rare' }] },
      { id: 104, name: 'Systems', itemCount: 1, ducats: 15, ownedCount: 1, drops: [{ location: 'Axi W1 Relic', chance: 0.11, rarity: 'Uncommon' }] },
    ],
    ownedCount: 4,
    totalCount: 4,
    complete: true,
  },
  {
    id: 4,
    name: 'Volt Prime',
    category: 'Warframes',
    imageName: 'volt-prime.png',
    vaulted: true,
    mastered: false,
    components: [
      { id: 201, name: 'Blueprint', itemCount: 1, ducats: 25, ownedCount: 0, drops: [{ location: 'Lith V1 Relic (Vaulted)', chance: 0.25, rarity: 'Common' }] },
      { id: 202, name: 'Chassis', itemCount: 1, ducats: 15, ownedCount: 1, drops: [{ location: 'Meso V2 Relic (Vaulted)', chance: 0.11, rarity: 'Uncommon' }] },
      { id: 203, name: 'Neuroptics', itemCount: 1, ducats: 45, ownedCount: 0, drops: [{ location: 'Neo V3 Relic (Vaulted)', chance: 0.02, rarity: 'Rare' }] },
      { id: 204, name: 'Systems', itemCount: 1, ducats: 15, ownedCount: 0, drops: [{ location: 'Axi V1 Relic (Vaulted)', chance: 0.11, rarity: 'Uncommon' }] },
    ],
    ownedCount: 1,
    totalCount: 4,
    complete: false,
  },
  {
    id: 5,
    name: 'Fulmin Prime',
    category: 'Primary',
    imageName: 'fulmin-prime.png',
    vaulted: false,
    mastered: false,
    components: [
      { id: 301, name: 'Blueprint', itemCount: 1, ducats: 25, ownedCount: 1, drops: [{ location: 'Lith F1 Relic', chance: 0.25, rarity: 'Common' }] },
      { id: 302, name: 'Barrel', itemCount: 1, ducats: 45, ownedCount: 0, drops: [{ location: 'Axi F1 Relic', chance: 0.02, rarity: 'Rare' }] },
      { id: 303, name: 'Receiver', itemCount: 1, ducats: 15, ownedCount: 1, drops: [{ location: 'Neo F2 Relic', chance: 0.11, rarity: 'Uncommon' }] },
      { id: 304, name: 'Stock', itemCount: 1, ducats: 15, ownedCount: 0, drops: [{ location: 'Meso F1 Relic', chance: 0.11, rarity: 'Uncommon' }] },
    ],
    ownedCount: 2,
    totalCount: 4,
    complete: false,
  },
  {
    id: 10,
    name: 'Akarius Prime',
    category: 'Secondary',
    imageName: 'akarius-prime.png',
    vaulted: false,
    mastered: false,
    components: [
      { id: 401, name: 'Blueprint', itemCount: 1, ducats: 25, ownedCount: 0, drops: [{ location: 'Lith A1 Relic', chance: 0.25, rarity: 'Common' }] },
      { id: 402, name: 'Barrel', itemCount: 2, ducats: 15, ownedCount: 1, drops: [{ location: 'Meso A1 Relic', chance: 0.11, rarity: 'Uncommon' }] },
      { id: 403, name: 'Receiver', itemCount: 1, ducats: 45, ownedCount: 0, drops: [{ location: 'Neo A1 Relic', chance: 0.02, rarity: 'Rare' }] },
    ],
    ownedCount: 1,
    totalCount: 4,
    complete: false,
  },
  {
    id: 8,
    name: 'Skana Prime',
    category: 'Melee',
    imageName: 'skana-prime.png',
    vaulted: true,
    mastered: false,
    components: [
      { id: 501, name: 'Blueprint', itemCount: 1, ducats: 25, ownedCount: 0, drops: [{ location: 'Lith S1 Relic (Vaulted)', chance: 0.25, rarity: 'Common' }] },
      { id: 502, name: 'Blade', itemCount: 1, ducats: 45, ownedCount: 0, drops: [{ location: 'Neo S1 Relic (Vaulted)', chance: 0.02, rarity: 'Rare' }] },
    ],
    ownedCount: 0,
    totalCount: 2,
    complete: false,
  },
]

export const mockStarChartProgress: StarChartProgress = {
  planets: [
    {
      name: 'Earth',
      completed: 15,
      total: 15,
      xpEarned: 1500,
      xpTotal: 1500,
      nodes: [
        { id: 1, nodeKey: 'earth-pacific', name: 'Pacific', planet: 'Earth', nodeType: 'mission', masteryXp: 100, completed: true },
        { id: 2, nodeKey: 'earth-eurasia', name: 'Eurasia', planet: 'Earth', nodeType: 'mission', masteryXp: 100, completed: true },
        { id: 3, nodeKey: 'earth-lith', name: 'Lith', planet: 'Earth', nodeType: 'mission', masteryXp: 100, completed: true },
      ],
    },
    {
      name: 'Venus',
      completed: 12,
      total: 14,
      xpEarned: 1200,
      xpTotal: 1400,
      nodes: [
        { id: 4, nodeKey: 'venus-unda', name: 'Unda', planet: 'Venus', nodeType: 'mission', masteryXp: 100, completed: true },
        { id: 5, nodeKey: 'venus-venus-junction', name: 'Venus Junction', planet: 'Venus', nodeType: 'junction', masteryXp: 1000, completed: true },
        { id: 6, nodeKey: 'venus-kiliken', name: 'Kiliken', planet: 'Venus', nodeType: 'mission', masteryXp: 100, completed: false },
      ],
    },
    {
      name: 'Mars',
      completed: 8,
      total: 16,
      xpEarned: 800,
      xpTotal: 1600,
      nodes: [
        { id: 7, nodeKey: 'mars-war', name: 'War', planet: 'Mars', nodeType: 'mission', masteryXp: 100, completed: true },
        { id: 8, nodeKey: 'mars-augustus', name: 'Augustus', planet: 'Mars', nodeType: 'mission', masteryXp: 100, completed: false },
      ],
    },
  ],
  summary: {
    completedNodes: 35,
    totalNodes: 45,
    completedXP: 3500,
    totalXP: 4500,
  },
}

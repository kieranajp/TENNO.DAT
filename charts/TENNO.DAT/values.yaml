namespace: apps

api:
  replicaCount: 1
  image:
    repository: ghcr.io/kieranajp/tenno.dat-api
    tag: latest
  imagePullSecrets:
    - ghcr-secret
  service:
    port: 3000
    type: ClusterIP
  resources:
    requests:
      memory: "128Mi"
      cpu: "100m"
    limits:
      memory: "256Mi"
      cpu: "250m"

web:
  replicaCount: 1
  image:
    repository: ghcr.io/kieranajp/tenno.dat-web
    tag: latest
  imagePullSecrets:
    - ghcr-secret
  service:
    port: 3000
    type: ClusterIP
  resources:
    requests:
      memory: "128Mi"
      cpu: "100m"
    limits:
      memory: "256Mi"
      cpu: "250m"

postgresql:
  enabled: true
  image:
    repository: postgres
    tag: "18-alpine"
  persistence:
    enabled: true
    size: 1Gi
    storageClass: local-path
  resources:
    requests:
      memory: "256Mi"
      cpu: "100m"
    limits:
      memory: "512Mi"
      cpu: "250m"

ingress:
  enabled: true
  web:
    host: "tenno.kieranajp.uk"
  api:
    host: "ordis.kieranajp.uk"

secretName: warframe-secrets
secrets:
  # Database credentials (used to construct DATABASE_URL)
  DB_USER: ""
  DB_PASS: ""
  DB_NAME: ""
  DB_HOST: ""
  DB_PORT: ""

  # API configuration
  BASE_URL: ""           # Where API is publicly accessible (e.g., https://ordis.kieranajp.uk)
  FRONTEND_URL: ""       # Where to redirect after auth (e.g., https://tenno.kieranajp.uk)
  CORS_ORIGIN: ""        # Allowed CORS origin (e.g., https://tenno.kieranajp.uk)
  STEAM_API_KEY: ""      # Optional Steam API key

  # Web frontend configuration
  VITE_API_URL: ""       # API URL for web frontend (e.g., https://ordis.kieranajp.uk)
